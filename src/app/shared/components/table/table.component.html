<!-- <table class="border-collapse">
  <thead>
    <th>
      <button class="table-head" (click)="filterByColumn('numeroExpediente')">
        <span>NÂº Expediente</span>
        @if (this.searchStudentsService.filters.orderBy === 'numeroExpediente') {
        @if (this.searchStudentsService.filters.order === 'asc') {
        <i class="material-icons">expand_more</i>
        }@else {
        <i class="material-icons">expand_less</i>
        }
        }@else {
        <i class="material-icons" style="color: transparent;">more_horiz</i>
        }
      </button>
    </th>
    <th>
      <button class="table-head" (click)="filterByColumn('nombre')">
        <span>Nombre</span>
        @if (this.searchStudentsService.filters.orderBy === 'nombre') {
        @if(this.searchStudentsService.filters.order === 'asc') {
        <i class="material-icons">expand_more</i>
        }@else {
        <i class="material-icons">expand_less</i>
        }
        }@else {
        <i class="material-icons" style="color: transparent;">more_horiz</i>
        }
      </button>
    </th>
    <th>
      <button class="table-head" (click)="filterByColumn('apellidos')">
        <span>Apellidos</span>
        @if (this.searchStudentsService.filters.orderBy === 'apellidos') {
        @if (this.searchStudentsService.filters.order === 'asc') {
        <i class="material-icons">expand_more</i>
        }@else {
        <i class="material-icons">expand_less</i>
        } }@else {
        <i class="material-icons" style="color: transparent;">more_horiz</i>
        }
      </button>
    </th>
    <th>
      <button class="table-head" (click)="filterByColumn('tipoConvenio')">
        <span>Tipo Convenio</span>
        @if(this.searchStudentsService.filters.orderBy === 'tipoConvenio') {
        @if (this.searchStudentsService.filters.order === 'asc') {
        <i class="material-icons">expand_more</i>
        }@else {
        <i class="material-icons">expand_less</i>
        } }@else {
        <i class="material-icons" style="color:  transparent;">more_horiz</i>
        }
      </button>
    </th>
    <th>
      <button class="table-head" (click)="filterByColumn('nacionalidad')">
        <span>Nacionalidad</span>
        @if(this.searchStudentsService.filters.orderBy === 'nacionalidad') {
        @if (this.searchStudentsService.filters.order === 'asc') {
        <i class="material-icons">expand_more</i>
        }@else {
        <i class="material-icons">expand_less</i>
        } }@else {
        <i class="material-icons" style="color: transparent;">more_horiz</i>
        }
      </button>
    </th>
    <th>
      <button class="table-head" (click)="filterByColumn('fechaNacimiento')">
        <span>Fecha Nacimiento</span>
        @if(this.searchStudentsService.filters.orderBy === 'fechaNacimiento') {
        @if (this.searchStudentsService.filters.order === 'asc') {
        <i class="material-icons">expand_more</i>
        }@else {
        <i class="material-icons">expand_less</i>
        } }@else {
        <i class="material-icons" style="color: transparent;">more_horiz</i>
        }
      </button>
    </th>
  </thead>
  <tbody>
    @for (estudiante of filteredStudents(); track $index) {
    <tr>
      <td>
        <span>
          {{ estudiante.numeroExpediente }}
        </span>
      </td>
      <td>
        <span>
          {{ estudiante.nombre }}
        </span>
      </td>
      <td>
        <span>
          {{ estudiante.apellidos }}
        </span>
      </td>
      <td>
        <span>
          {{ estudiante.tipoConvenio }}
        </span>
      </td>
      <td>
        <span>
          {{ estudiante.nacionalidad }}
        </span>
      </td>
      <td>
        <span>
          {{ estudiante.fechaNacimiento | date: 'dd/MM/yyyy'}}
        </span>
      </td>
    </tr>
    }
  </tbody>
</table> -->
<table class="border-collapse">
  <thead>
    <tr>
      @for (column of columns; track $index) {
      <th (click)="columnClicked(column)">
        <button
          class="cursor-pointer w-max h-10 bg-secondary/60 flex items-center justify-center gap-4 px-20 uppercase">
          <span class="p-2">
            {{column}}
          </span>
          @if (columnOrder === column) {
          @if (orderType === 'asc') {
          <i class="material-icons">expand_more</i>
          }@else {
          <i class="material-icons">expand_less</i>
          }
          }@else {
          <i class="material-icons" style="color: transparent;">more_horiz</i>
          }
        </button>
      </th>
      }
    </tr>
  </thead>
  <tbody>
    @for (item of data; track $index) {
    <tr class=" hover:bg-secondary/30 border-black/20 border">
      @for (column of columns; track $index) {
      <td class="text-start p-1">
        <span class="w-full flex m-1">
          @if (isDate(item[column])) {
          {{anyToDate(item[column]) | date: 'dd/MM/yyyy'}}
          }@else {
          {{item[column]}}
          }
        </span>
      </td>
      }
    </tr>
    }
  </tbody>
</table>

@if (columns.length === 0 && data.length === 0) {
<div>
  No data to display
</div>
}
