<div class="section-container">
  <div class="table-wrapper">
    <table>
      <thead>
        <!-- <th>Expediente</th>
        <th>Nombre</th>
        <th>Apellidos</th> -->
        <th>
          <button
            class="table-head"
            (click)="filterByColumn('numeroExpediente')"
          >
            Expediente @if (this.searchStudentsService.filters.orderBy ===
            'numeroExpediente') { @if (this.searchStudentsService.filters.order
            === 'asc') {
            <app-expand-more-icon></app-expand-more-icon>
            }@else {
            <app-expand-less-icon></app-expand-less-icon>
            } }
          </button>
        </th>
        <th>
          <button class="table-head" (click)="filterByColumn('nombre')">
            Nombre @if (this.searchStudentsService.filters.orderBy === 'nombre')
            { @if (this.searchStudentsService.filters.order === 'asc') {
            <app-expand-more-icon></app-expand-more-icon>
            }@else {
            <app-expand-less-icon></app-expand-less-icon>
            } }
          </button>
        </th>
        <th>
          <button class="table-head" (click)="filterByColumn('apellidos')">
            <span>Apellidos</span>
            @if (this.searchStudentsService.filters.orderBy === 'apellidos') {
            @if (this.searchStudentsService.filters.order === 'asc') {
            <app-expand-more-icon></app-expand-more-icon>
            }@else {
            <app-expand-less-icon></app-expand-less-icon>
            } }
          </button>
        </th>
        <th>
          <button class="table-head" (click)="filterByColumn('tipoConvenio')">
            <span>Tipo Convenio</span> @if
            (this.searchStudentsService.filters.orderBy === 'tipoConvenio') {
            @if (this.searchStudentsService.filters.order === 'asc') {
            <app-expand-more-icon></app-expand-more-icon>
            }@else {
            <app-expand-less-icon></app-expand-less-icon>
            } }
          </button>
        </th>
        <th>
          <button class="table-head" (click)="filterByColumn('nacionalidad')">
            <span>Nacionalidad</span>
            @if(this.searchStudentsService.filters.orderBy === 'nacionalidad') {
            @if (this.searchStudentsService.filters.order === 'asc') {
            <app-expand-more-icon></app-expand-more-icon>
            }@else {
            <app-expand-less-icon></app-expand-less-icon>
            } }
          </button>
        </th>
      </thead>
      <tbody>
        @for (estudiante of filteredStudents(); track $index) {
        <tr>
          <td>{{ estudiante.numeroExpediente }}</td>
          <td>{{ estudiante.nombre }}</td>
          <td>{{ estudiante.apellidos }}</td>
          <td>{{ estudiante.tipoConvenio }}</td>
          <td>{{ estudiante.nacionalidad }}</td>
        </tr>
        }
      </tbody>
    </table>
  </div>
  <div>
    <div>
      <span>
        PÃ¡gina {{ this.searchStudentsService.filters.page }} de
        {{ this.searchStudentsService.totalPage }}
      </span>
    </div>
    <app-button
      (onClick)="previousPage()"
      [themeType]="'outline'"
      [disabled]="this.searchStudentsService.filters.page === 1"
    >
      Anterior
    </app-button>
    <app-button
      (onClick)="nextPage()"
      [themeType]="'outline'"
      [disabled]="
        this.searchStudentsService.filters.page ===
        this.searchStudentsService.totalPage
      "
    >
      Siguiente
    </app-button>
  </div>
</div>
